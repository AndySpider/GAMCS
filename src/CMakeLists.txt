AUX_SOURCE_DIRECTORY(. LIB_SRCS)

# shared library
ADD_LIBRARY(${GIMCS_NAME} SHARED ${LIB_SRCS})
TARGET_LINK_LIBRARIES(${GIMCS_NAME} ${LIBS})   # depended libraries
SET_TARGET_PROPERTIES(${GIMCS_NAME} PROPERTIES CLEAN_DIRECT_OUTPUT 1 
    VERSION ${GIMCS_MAJOR}.${GIMCS_MINOR} SOVERSION ${GIMCS_MAJOR})

# static library
ADD_LIBRARY(${GIMCS_STATIC_NAME} STATIC ${LIB_SRCS})
TARGET_LINK_LIBRARIES(${GIMCS_STATIC_NAME} ${LIBS})
SET_TARGET_PROPERTIES(${GIMCS_STATIC_NAME} PROPERTIES OUTPUT_NAME ${GIMCS_NAME} CLEAN_DIRECT_OUTPUT 1)

# install library
SET(LIBDIR  ${CMAKE_INSTALL_PREFIX}/lib)
INSTALL(TARGETS ${GIMCS_NAME} ${GIMCS_STATIC_NAME}
    LIBRARY DESTINATION ${LIBDIR}
    ARCHIVE DESTINATION ${LIBDIR})
